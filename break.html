<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="version" content="0.1.1">
  <link rel="icon" type="image/png" sizes="16x16" href="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAHdElN
RQflAxcQLyrVsmesAAABJklEQVQoz23QP0tbARQF8J/vRTRQUURQRKkIDmIqxMEOTm4VQQWhX6Io
VHARBZcWHOomgoMuYolCC04FRz+Ag382cdOXxCGgUlHMc8hLzOCZLueee+49lzeMKYnF7ox7F23m
ldxZ0P5GBnWCFo9CgUct700vu5R37kzeldV6FzrkFK0Z0a1b1g8Ff3RW26F1kRmwaAlMurYhVRGM
KvgOGhw4FIJvbo1VjpxQkkvcyspJdSBvkkAg40K+lioUg6IzGalAKO3BC4hd+mw6qR80C1OeRQak
/Qe/fLTp3pEmvSJPAY4NGk5WFM35LY0hnxxX1nU58Vdr7SsN+GDfqZ4qNaVgV39N0mfHrdmqGr76
KfbPqVjGF41W7CV5EgzbcqOsLLItW6VfAT2AT5mqSqzMAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIx
LTAzLTIzVDE2OjM2OjQxKzAwOjAwzj2NDQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMy0yM1Qx
NjozNjozOSswMDowMIZKcs8AAAAASUVORK5CYII=" />

  <!-- Fallback CSS for Fork Me ribbon if we do not have an internet connection -->
  <style>
    .right-bottom { right: 0; bottom: 0; }
    .fixed { position: fixed; }
    a { text-decoration: none; font-family: Helvetica, Arial, sans-serif;}
  </style>

  <!-- Fork Me CSS. https://github.com/simonwhitaker/github-fork-ribbon-css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css" />
  
  <title></title>

  <!-- Break timer styling -->
  <style>
    :root {
      --dot-size: 6vh;
      --color-incomplete: #ddd;
      --color-complete: #393;
      --color-active: #3b3;
    }
    html,body,div,p { margin: 0; padding: 0; }
    html { box-sizing: border-box; }
    *, *:before, *:after { box-sizing: inherit; }
    body { width: 100vw; height: 100vh; }
    .centered { display: flex; justify-content: center; align-items: center; }
    .full-width { width: 100%; }
    .full-height { height: 100%; }
    .column { flex-direction: column; }
    .row { flex-direction: row; }
    .space-between { justify-content: space-between; }
    .hidden { display: none; }
    p {
      font-family: Helvetica, Arial, sans-serif;
      font-size: 10vh;
      padding: 2vh;
      text-align: center;
    }
    p#timer {
      font-size: 60vmin;
      font-weight: bold;
      line-height: 0.8;
      padding: 0;
    }
    p#break-over { font-size: 20vh; font-weight: bold; }
    #progress-container { width: 80%; }
    .progress-dot {
      width: var(--dot-size);
      height: var(--dot-size);
      background-color: var(--color-incomplete);
      border-radius: calc(var(--dot-size) / 2);
      border: .5vw solid var(--color-incomplete);
      margin: .5vw;
    }
    .progress-dot.complete {
      background-color: var(--color-complete);
      border-color: var(--color-complete);
    }
    .progress-dot.active {
      background-color: var(--color-active);
      border-color: var(--color-active);
      animation: 1s cubic-bezier(.46,.03,.52,.96) infinite alternate fadeout;
    }
    @keyframes fadeout { from { opacity: 1; } to { opacity: 0.3; } }
    .github-fork-ribbon::before { background-color: #000; }
    .github-fork-ribbon { opacity: 0.05 ; transition: opacity .5s;}
    .github-fork-ribbon:hover { opacity: 1;}
  </style>

  <!-- Sound Data -->
  <script>
    const beepsData = `data:audio/mpeg;base64,
SUQzAwAAAAAAFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/82DAAB0SJrL/SWgC3LyY0abacZUYrRt0
gCiBBkC4J9QgQIBROlGPNecE07LM003WmX0x8CoAnAXAScAXADQJQTxhxzpEgPQTMc6RcNDMe5Lk
wRsTM3QQZNN////9aBo3Qagh//0E3UhTL5uovm5/4neD78ocqcGP///xA4h+UcUAtASxAAEPMAAA
Wd7s76mmiVRBIVVqvKpRtNz/82DAEBpC5wcTjIgC/UUnpaKgsLyLCc2PqJXHMcjhyjUpjnlcgZQG
uVTEdJUpIkXJ1UUiAysfhPpXQpoPenXlM/+9f0n/Uh/W39f/t1IN9XqKv/zifUk3/+d//5h/+t8u
/9uz9esO783JqIl0QREkwmpMlI1H+eXEFkFj8UiCaNhUM3NECMhBiAEYGsSBmF6XKg1hcEIfkW5N
cRD/82DANhny5wsfi1ACCxi0ANfkI1dK7TGt5a3tf9d/p/on/9H/T1dv/Uk6Hf/54rnM2fzPjz//
g038P4f/XlgAypiwgqX///+ESZaZCTwQZAA2JJ+T9IVKVf01MZqLQ+ybC6sCfhoQ/LK5gibouy7J
lIahRPXV//+rqnVr/t3Un6lIfQQZf/QsWRyyLzy3X6rykPxaMbLsr+tD/9b/82DAXRsT5ubzxpAD
ta///////ZZmnb/12NUZgADKh9CUq3///2kTgSrSZMnaB9pagYUVMcKRlWt3WtGoghABSggQG3QU
oBtzMyMDQ0RMC4gpZmmfGfLyPUkk///9Dn/3f1+/+3/zDDAuBUMbsic84gAmLElT1/6L/b0OVf//
////qQkKv/6zhsTr+sAAupfMAqN///+kn+A1qFr/82DAfxvT6uLyNJTaIMe5EiEqqLxtUbItrRUk
6JqiohxBgIGQGoomYzJFS6gXk0qReSdEfxOg3k0HRUdRb//+su1o+ktvVf1JLtmRt/0kklRjBch2
oOp6tlUjFEFOHabKS0TJK3ppP+vzJ0VP/9aP/6Lf/sskSil/9cdpBNjrZHpAAAAM1UQChBW5v/+5
TGGiAD3RMjq1GJgmzoL/82DAniDT5tbyNRra6ZcIuXCfGwDdwNqgYJCAocAYJBq0coonFoa0C+RQ
aYWGgGkA2AVIiJsj///U6JiaDLFc87f////+yRicUxPCzSYJ80TQV0jEawwg1aFqQUUDOg2MVEki
qbN/Utf/qWxeWp///////rapS7tskkiXiZKBbNXU3CT/////////////////////////////////
82DAqSQ77oceLSTY////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////82DApw3AAlwAAAAA////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DA/yPAAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////82DA/yPAAlwAAAAA////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////82DA/yPAAlwAAAAA////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////82DA/yPAAlwAAAAA////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////82DA/yPAAlwAAAAA
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////82DA/yPAAlwAAAAA////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////82DA/yPAAlwAAAAA////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
82DA/yPAAlwAAAAA////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////82DA/yPAAlwAAAAA////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DA/yPAAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA/////////////////////////////////////////wyB//qd0O5A
AigYG4GeAIzf5/P/////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA/////////////////////////////////////////JmZeZRYowAS3hVWZ39nLk5guNCCPh/Y
mPDOnjj8VYegmrGITII3fnbr9tgalVqSV14HRuCwWYETA87kjEBCtCeTZl8/h5MsDQUnsrsFAiFq
w9FPFQiz1hY33sOsuZm02xPRoaH421ivUtXNfzv8/+z/82DA/yOw4jAxQBAB3m/7sTed7X/18c8f
5d7////vPv/huX/i3Nk8Wh1uhYDAMUOXCnyzpLcOOfuZyHQowkBppuBJ+jxp5/D//////2YFUIGg
FuTcqd3JypTx6Ev3Yw2xcCk83POLbbI9nJRbcJtJvDv////f/v59/veZ9/4Lk8OWtO4+deIQwFQV
QtwnhgpsAXCU8mnSmGKGeqb/82DA/0dsbrrtjNgCuxvWu1EXXkvWe3QqBY3pym//////uWPoL3//
16LOuLsMyol9qWSTalVWZyemU59U94gpSQVzdYKESHDMm5DCUMiJDKkcVpcJsiZQHkjlKAqIE7L5
YE4iwGQywC5gYWVDXGOM1ZiF9iyTxqQMRsXW9Jb+ak6WHSTS0f9X+pv6jJ+RwnZ6/9k9B6R03qOu
IKH/82DAcCnMCt7tjJACmk5FBChE1Ukkei76iHH3fb/LIjsyNz7nU2VN0P/1l01XWsgLf/7vqpv2
6HUUzZK5kVT5sXG/y4AAzNuKvaqxEqqrKyy//+oAZ0RQBPRtYBg2ugPotTIgRfIuT5SJZRRIjHYQ
8iaaINugacdiRA3hLhOGAX3SQsN0qpVl0ZM3KizYeEEfJ39BBn+mh/W39P7/82DAVyODYu71iaAC
3QfmAyNf/SNn+t2QYvl96jATgkyU6frni+rMSLN/pegTabt/9bKak/JU0T3HEyPrOxK78m6H6wDK
mPCUq9K///ypayUyhVEZktG4HktumLqOmr1KoKWs+XikLQTwGiIANgLKHKMjY+6lrUpTuZi1KNVt
spJv//6T/6T7LSXVUtn1zE8bKS9St0S6NUWQLKP/82DAWB675ub1yZgC5WSSWijdlVICCon4oVLW
p3Ur1I//qSr///////MWS//nS04Ay5jQlKv///9l6DUnIBFAIaPpKUVqSNi66jFL0XRomRFieH8M
sgAhwNMGCzRXLpdmTonEnRRQOCz0Vvupbf//5r/nob6ntfc117mnf66swFglnevso4EIfm6Md+7t
/9Fs///////oVMf/6xz/82DAbBtr5ubyNQ7aG7AACZfwkqMrX/RzTBGEJEbEznYRlooF5BE4bGLJ
dTs9MuCUiAAZLgtkG2RBzR9JW6KywK2JMgRBlsktv//9ai87f/rt+uiqyrf+icLRwlwlkW/ooGwk
wSIe45UVOir/RW3/rU9J//q////qWiZHTxeWm39SZdHcUx6mCwAB6AH//6K6BsXT45QiwJ6FCHT/
82DAjR6L6rb0PNrbCvEsG8eJsgm+g5EHwLQJAoD8SBkjT////////////9koaailD1T/////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////82DAoQ3yejM0A061////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DA+CIAAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////82DA/yPAAlwAAAAA////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////82DA/yPAAlwAAAAA////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////82DA/yPAAlwAAAAA////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////82DA/yPAAlwAAAAA
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////82DA/yPAAlwAAAAA////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////82DA/yPAAlwAAAAA////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
82DA/yPAAlwAAAAA////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////82DA/yPAAlwAAAAA////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DA/yPAAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA/////////////////////////////////////////wiAdwYxDUUk6zzdd90+DwVhHhcC5oCP
/33dfCrNT8zGnEl7wOouYtQVQBwxt5gwAEWE6zA8FwqCwECcxmGY40Nz/7rAOFYwqBJSRgUDgCDA
xBBALAWSAElkSg/zv//+YJAE11t5M7cXjY0KKYKQi7f/82DA/yPAAlwBQAAAF/qX+/////P4VYvh
P1LGo9XS3XNdf7C7EP/////vP/5Zu4/k40BKtWMWB9BRy2BoB2f351cwYCiAl9RGBBAFRhGJYqAw
UAEv9/dc53//////2biwTmAQDLcAwIMZVja+/8+zuLOJFN+IgMMCBmMFADLkhQB1SigBNCkzlMhQ
FMBh2WS//////////5zff///82DA/1CUcq71h+oCWNufw/dv41ArT1N5VFF2OCpenXKoo2RvZc80
0yylmr6ygaDJe5pTMm4iECDBQAwgBlpPs3P//////n/3n//v/a1EKMC7vMuIvXFQkEGf//Soeio1
yeiL4BKYPhiWh7qHOJ8+WjMlpDSIqFnkTJxSIWXgfRqTE6Bag3cmjM2WzoH1Y+BmETRiHFW/nkvp
2f7/82DASyHDtuLri5gCi/9T/1f6ZTaufDtG9/9FX/0GfNxAdGkxxrTpx8oDYJNHV6l+Rh9PobfU
16Xkqe8d3/9Zia8xJ1v+NN2pAMuX0JSrMr/+wo4kDkIigbFqHTQlB8yXbZdMkkknekkYFYc4ZYTc
KWAkIA34ILWBySiTp4uppPZFbMNokkkklOkmil33/+o6yP9bev9/pLb/1un/82DAUyCb5uL1yKAC
EcM+Qi3UkiiybIsiZm4n4OyTKJ5FJRdQ19bt9voqpf/3//X//qMUElf/mZaPnv0gAMqXsJSrVL//
/XIaEKSJUQrIDdTQpbNk5Ko0L7JLRUigbIkVJQXMOSG+gGpwATgFhI2TInjqJgaqU6LGBKCtSQPK
et0HStf//Wk3+32f7/QK55J1OjuiikibFcQAFLn/82DAXyOb4uL1SaACdMElpLRdJbIFwh44g5hG
JIoqPqdbXomBp+6PoG6J9D/9//1f/6jMwdf/2MC+EP1ACwurl3r0JBKkVVl/9/8E1ArMESgoA4Ky
DaBZJdzEfDDMEwO4oFojDyI/NZyUFkk6VAsPA0ZcyWFogGAMF13QIcK8SY6iNFmHjBFTrS+SboeS
8/+v/W/9Sf/+lq1mBpT/82DAXyksBt7tiaAC2GdEHoMneme41x0MpzIdJ5Tf/WQUkjE1ZNqbGaD1
mof5jNKdTsxgZof/ffff7WeqX0ElqUQNJTVta/keSKemPpTfU5GgqAAKqpoEiiigAQCBA4FQCH/y
iR2dDgAolyaJNi8MbUocogxsQ0cwny6RBBZQBvwAEaxjRW2oujENlJBk59sdLdEXEk/rb6/8yf//
82DASR0DXscfhZgCu39bfroo6iGi4T3/+v/vy8HVHlev0ldFFf/+k////zE11GJFXf89+t0rkgCp
SAqSSSfRRLxeNloCbgCRAbZAc4BaaDeYDGINVDiOkVNVIo1JJJUVmJdLpdRRb9aKKP/////////9
FHUklWYl1JbKMi8bJQVA////////////////////////////////////82DAZBJShjM9wJgA////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DAqQ5AAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////82DA/yPAAlwAAAAA////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////82DA/yPAAlwAAAAA////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////82DA/yPAAlwAAAAA////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////82DA/yPAAlwAAAAA
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////82DA/yPAAlwAAAAA////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////82DA/yPAAlwAAAAA////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
82DA/yPAAlwAAAAA////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////82DA/yPAAlwAAAAA////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DA/yPAAlwAAAAA////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////82DA/yPAAlwAAAAA////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////82DA
/yPAAlwAAAAA////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////82DA/yPAAlwAAAAA////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////82DA/yPAAlwAAAAA////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////82DA/yPAAlwAAAAA////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////82DA/yPA
AlwAAAAA////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////82DA/yPAAlwAAAAA////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////82DA/yPAAlwAAAAA////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////82DA/yPAAlwAAAAA////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////82DA/yPAAlwA
AAAA/////////////////////////////////////////wAAxwOgyDAGBAWBAaFP/gv1PEcv//2r
LwaAKYDIE4CBD//u1ooPABmAIAkmb//8Vh5gjmGOkQAZiSGhnyDnHMI7Z///yOHJy35m1CDGHiF+
YwwmBiYC/GL8GB////9/mfcP4Y3Ij5g8gHmAIAMYt4j/82DA/yPAAlwBQAAAaYWYQpgzgTmEMDB/
////////e//gIESyYKoK5gggAmAwAYYL4IJgRgLg4BswGgFv///////////+8z7h/+UASgIBcwEg
EzA5ATMBAA4w5QrzB9BXGgQzIdGBMFUP4xVAsjARA2MIII7///////////v8zv8z7r+f//5hIAZG
YONSYQwvhixBRGPGK2YbYS7/82DA/2MMcl5fh/AAYMoDZh+hMmBmA6YG4DphMBZGFkDMOgFmC4BU
QgJg4Cf///////////////////5z/5//vv/5gRgQg4BYwFAAAAAAYBwDxgOAAGCgBoYCwATVjBuC
GMGYA0wdwRQgDwwEwNzA9ATMMwFIwbQ3zDbBhMFsE0wQQOzAtAH////////////et1lcGAuAyVgM
gAv/82DAAR3D5uLzxpACy5ewAqN///9qoFaMJhsAQM8mkcfxVbH9a+k6k1F0fINcAxUR6MyREumq
LIOkkkkcLAm9z6SqTJf//60HU/6vUrXa/0TJ/91KZEsi1E/RWySSTq1IMOYNs+6roMk6vSQf/62s
//7//rb/+osmiT//WZksfCg/6QDKl9ACq3///1omXRNFRheRg0tqEiWtKa7/82DAGR+r4t7yTRTa
YIqdFTpLpHTUixGkgF0QFIYfUc4slovGazqnZVAhwsgyNkUEkUTZH+v/6FTnb2d2TRP2o+ePF/Tu
ho8AHiMpZD3WZW55AF4B80480489v1VPp6FXmf///6L/+ag/IF/+kkEWwZ9QAMqXsJUt1V///BYE
UBjkVkbsPsHlMcRSZloGDOyaCjM4iTRFSDCcR1j/82DAKSVj5ub0NJraHMhjIKYLLIIRcoGZMF41
UdUs4dJJE0W1SmTXq/3Z+yZkg36m1LUmhroIfQNE0mW7Pdk0DBYsguAxUjzoIJoVLpoDuHEK5JLS
Wo8t2fZzRJvrfqUdcwV/+3r/W6v/rSWXy4aOmh1epikSBRQ+sAu6h6wCq3//+3fUxwI5MGBEHLuF
JugamdZ1f0F0DQmysLP/82DAIh7L4tryNRTaBbARCQYkAsMMRzy8Th1ymfMGL5sXB0iOS2ijVdJT
///sSs/936KtP37u/1oymHlwbguik/mGXoeYCEB4fmMrmHpf3Zv26FEVf//////VSElZv/sPR6L/
i/UAAMyX8JKrzL/+Uy3AKpDkPckVkVHMtFkk1LJk16klJPU6JSJcc8DXECkWTLqCSSKLJWoCExr/
82DANR0L6t70RFraOjSooo///1G39aLf/SSdJ1zIvG36XSUbDFA9QnKBt/7GImwnSPqRR+tFL+vq
SdEut/+/////WYl1H/+ZD2NlgAlVEkUVoSiZJoVJIqWySJqViRGkTo5wfqGSA2GDQQMqmAULhcQT
IbJJFo3TVZJEmhfg21D8RNCJGqTP//7oqdRBhjSEKyLt/////+pIxLD/82DATx4r4myeBSbZRIuo
J/WcJsbIYqEBQslAfQCZgbtGeKZgmgg///9aKnr/////////7mKo////////////////////////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////82DAZQAAAlwAAAAA////////////////////////
/////////////////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAD/82DA9CEAAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=`;
  </script>

  <!-- GUI Texts -->
  <script>
    const guiTexts = {
      "en": {
        "title": "Break",
        "start-again": "We resume in",
        "minutes": "minutes",
        "break-over": "Break is over"
      },
      "sv": {
        "title": "Rast",
        "start-again": "Vi börjar igen om",
        "minutes": "minuter",
        "break-over": "Rasten är slut"
      }
    };
  </script>

  <!-- Actual script -->
  <script>
    let debug = false;
    let timeStart = -1;
    let timerValue = -1;
    let timerStartValue = -1;
    let lang = "";
    
    // Prepare audio (base64 encoded in script tag above)
    let beeps = new Audio();
    beeps.src = beepsData;

    // Read `m` and `lang` params from URL. Defaults: 10 minutes & browser's
    // preferred language.
    window.onload = function(event) {
      let params = new URLSearchParams(document.location.search.substring(1));

      // Set debug mode if requested
      if (params.get("debug") != null) {
        debug = true;
      } 

      // Get gui language param
      lang = params.get("lang");
      // Use browser's preferred language if no explicit language is given
      if (lang == null) {
        lang = navigator.language.substring(0,2);
      }
      // Use selected language if it exists. otherwise, default to "en"
      if (!(lang in guiTexts)) {
          lang = "en";
      }
      initGuiTexts();

      // Get timer value. Default to 10 minutes if m param is unavailable or not
      // parsable
      let minutes = parseInt(params.get("m"), 10);
      if (isNaN(minutes)) {
        minutes = 10;
      }
      timerValue = minutes * 60;
      timerStartValue = timerValue;

      // Start timer. When debug, time runs 10x faster.
      updateDisplay();
      timeStart = Date.now();
      if (debug) {
        setTimeout(countdown, 100, 100);
      } else {
        setTimeout(countdown, 1000, 1000);
      }
    };

    /**
     * Countdown and update display.
     */
    function countdown(delay=1000) {
      // Debug console logging
      if (timerValue%10 == 0 && debug) console.log(`${Math.floor(timerValue/60)}:${timerValue%60}`);

      // Update timerValue. If debugging, just decrement the timerValue.
      // Otherwise, update timerValue by checking the internal clock.
      if (debug) {
        timerValue--;
      } else {
        let delta = Date.now() - timeStart;
        timerValue = timerStartValue - Math.round(delta/1000);
      }

      // Update timer display and progressbar
      updateDisplay();

      // If timer is not done, call countdown again after provided delay.
      // Otherwise, hide timer, show end message and play sound.
      if (timerValue > 0) {
        setTimeout(countdown, delay, delay);
      } else {
        document.getElementById("countdown").classList.add("hidden");
        document.getElementById("countdown-done").classList.remove("hidden");
        document.title = document.getElementById("break-over").innerText;
        beeps.play();
      }
    }

    /**
     * Update timer display and progressbar.
     */
    function updateDisplay() {
      // Update timer display
      let timeLeft = Math.ceil(timerValue/60);
      document.getElementById("timer").innerHTML = timeLeft;
      document.title = `${guiTexts[lang].title} - ${timeLeft}m`;

      // Update progress bar
      let progressNodeList = document.querySelectorAll(".progress-dot");
      let currentProgress = (timerStartValue - timerValue) / timerStartValue;
      let activeIndex = Math.floor(currentProgress * 10);
      for (let i = 0; i < progressNodeList.length; i++) {
        // completed dots
        if (i < activeIndex) {
          progressNodeList[i].classList.remove("active");
          progressNodeList[i].classList.add("complete");
        }
        // active dot
        else if (i == activeIndex) {
          progressNodeList[i].classList.add("active");
        }
      }
    }

    /**
     * Set GUI strings and page title to lang.
     * Language strings can be found in a script tag above.
     */
    function initGuiTexts() {
      let guiElement;
      document.title = guiTexts[lang].title;
      for (id of Object.keys(guiTexts[lang])) {
        guiElement = document.getElementById(id);
        if (guiElement != null) {
          guiElement.innerHTML = guiTexts[lang][id];
        }
      }
    }
  </script>
</head>

<body>
  <a class="github-fork-ribbon right-bottom fixed" href="https://github.com/fnurl/breaktimer" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a> 
  <div id="wrapper" class="full-width full-height centered column">
    <div id="countdown" class="full-width full-height centered column space-between">
      <p id="start-again"></p>
      <div id="timer-container" class="full-width">
        <p id="timer"></p>
      </div>
      <div id="progress-container" class="centered row">
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
        <div class="progress-dot"></div>
      </div>
      <p id="minutes"></p>
    </div>
    <div id="countdown-done" class="full-width full-height centered column hidden">
      <p id="break-over"></p>
    </div>
  </div>
</body>
</html>